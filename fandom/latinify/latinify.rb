str = ""
File.open("in.txt", 'r') {|f| str = f.readlines.join }
str.force_encoding('utf-8')
str.gsub!("а", "a")
str.gsub!("б", "b")
str.gsub!("в", "v")
str.gsub!("г", "g")
str.gsub!("д", "d")
str.gsub!("ђ", "đ")
str.gsub!("е", "e")
str.gsub!("ж", "ž")
str.gsub!("з", "z")
str.gsub!("и", "i")
str.gsub!("ј", "j")
str.gsub!("к", "k")
str.gsub!("л", "l")
str.gsub!("љ", "lj")
str.gsub!("м", "m")
str.gsub!("н", "n")
str.gsub!("њ", "nj")
str.gsub!("о", "o")
str.gsub!("п", "p")
str.gsub!("р", "r")
str.gsub!("с", "s")
str.gsub!("т", "t")
str.gsub!("ћ", "ć")
str.gsub!("у", "u")
str.gsub!("ф", "f")
str.gsub!("х", "h")
str.gsub!("ц", "c")
str.gsub!("ч", "č")
str.gsub!("џ", "dž")
str.gsub!("ш", "š")
str.gsub!("А", "A")
str.gsub!("Б", "B")
str.gsub!("В", "V")
str.gsub!("Г", "G")
str.gsub!("Д", "D")
str.gsub!("Ђ", "Đ")
str.gsub!("Е", "E")
str.gsub!("Ж", "Ž")
str.gsub!("З", "Z")
str.gsub!("И", "I")
str.gsub!("Ј", "J")
str.gsub!("К", "K")
str.gsub!("Л", "L")
str.gsub!("Љ", "Lj")
str.gsub!("М", "M")
str.gsub!("Н", "N")
str.gsub!("Њ", "Nj")
str.gsub!("О", "O")
str.gsub!("П", "P")
str.gsub!("Р", "R")
str.gsub!("С", "S")
str.gsub!("Т", "T")
str.gsub!("Ћ", "Ć")
str.gsub!("У", "U")
str.gsub!("Ф", "F")
str.gsub!("Х", "H")
str.gsub!("Ц", "C")
str.gsub!("Ч", "Č")
str.gsub!("Џ", "Dž")
str.gsub!("Ш", "Š")
File.open('out.txt', 'w') {|f| f.write(str) }